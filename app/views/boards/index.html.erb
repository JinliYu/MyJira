<% provide(:title, 'Boards') %>
<p id="notice"><%= notice %></p>
<div class="container">
  <div class="jumbotron">
    <% if logged_in? %>
      <h2 class="center">Boards</h2>

      <table class="table">
        <thead>
          <tr>
            <th class="col-md-2">Name</th>
            <th class="col-md-2">Leader</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <%= will_paginate %>

        <tbody>
          <% @boards.each do |board| %>
            <tr>
              <td><%= board.name %></td>
              <td><%= board.leader_id %></td>
              <td><%= link_to 'Show', board %></td>
              <td><%= link_to 'Edit', edit_board_path(board) %></td>
              <td><%= link_to 'Destroy', board, method: :delete, data: { confirm: 'Are you sure?' } %></td>
              <td>
              <% if @states[board.id] == false %>
                <button class="btn btn-primary">Not Enrolled</button>
              <% else %>
                <button class="btn btn-warning">Enrolled</button>
              <% end %>
            </td>
            </tr>
          <% end %>
        </tbody>
        <%= will_paginate %>
      </table>

      <br>

      <%= link_to 'New Board', new_board_path, class: "btn btn-primary" %>
      <% else %>
        <h3 class="center"> Please log in first!</h3>
      <% end %>
  </div>
</div>
